<!doctype html>

<html>

<head>
    <meta charset="utf-8">

    <title>5e Magic Items</title>

    <link rel="stylesheet" href="./stylesheets/gridLayout.css">
    <link rel="stylesheet" href="./stylesheets/gridLayout.3column.css">

    <script src="./scripts/headerList.class.js"></script>
    <script src="./scripts/itemSheet.class.js"></script>
</head>

<body>
    <div id="header">
        <h1>5e Magic Items</h1>
    </div>
    
    <div id="topNav"></div>
    <div id="pageNav"></div>
    <div id="list"></div>
    <div id="content"></div>
        
    <script>
        fetch("./topNav.html")
        .then(response => response.text())
        .then(data => {
            let target = document.querySelector("#topNav");

            target.innerHTML = data;
        });
        fetch("./json/5e Data.json")
            .then(response => response.json())
            .then(json => {
                for(let key in json) {
                    localStorage.setItem(key, JSON.stringify(json[key]));
                }
            })
            .then(() => {
                let target = document.querySelector("#list");

                let spells = JSON.parse(localStorage.getItem("Magic Items"));

                let headerList = new HeaderList(spells, "magicItems");
                target.appendChild(headerList);
            });
    </script>

</body>

</html>