<!DOCTYPE html>

<html>
    <head>
        <meta charset='utf-8'>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>stfuad.cc</title>
        <link rel="stylesheet" href="./styles/index.css">
        <link rel="stylesheet" href="./styles/navigation.css">
        <script>
            if ('serviceWorker' in navigator) {
                console.log("Registering service worker.");

                navigator.serviceWorker.register('./worker.js', { scope: './worker.js' })
                    .then((reg) => {
                        console.log(`Registered: ${reg.scope}`);
                    }).catch((e) => {
                        console.log(e);
                    })
            } else {
                console.log(error);
            }
        </script>
        
        <script>
            fetch('./json/5e Data.json')
                .then(response => response.json())
                .then(json => {
                    for(let key in json) {
                        localStorage.setItem(key, JSON.stringify(json[key]));
                    }
                });
        </script>
    </head>

    <body>
        <div id="topNav"></div>
        <div id="content">
            Please don't sue me...
        </div>

        <script>
            fetch("./navigation.html")
                .then(response => response.text())
                .then(html => {
                    document.getElementById("topNav").innerHTML = html;
                });
        </script>
    </body>
</html>
