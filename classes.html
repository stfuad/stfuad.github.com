<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">

        <title>5e Classes</title>

        <link rel="stylesheet" href="stylesheets/gridLayout.css">

        <style>
            .level5 > p:first-of-type {
                display: inline;
            }

            .invocation > h3 {
                margin-bottom: 0px;
            }
        </style>
    </head>

    <body>

        <div id="header">
            <h1>5e Classes</h1>
        </div>

        <div id="topNav"></div>
        <div id="pageNav"></div>
        <div id="content"></div>
        
        <script>
            fetch("./topNav.html")
                .then(response => response.text())
                .then(data => {
                    let target = document.querySelector("#topNav");
        
                    target.innerHTML = data;
                })
            fetch("./json/5e Data.json")
                .then(response => response.json())
                .then(json => {
                    for(let key in json) {
                        localStorage.setItem(key, JSON.stringify(json[key]));
                    }
                })
                .then(() => {
                    let host = document.querySelector("#content");

                    let json = JSON.parse(localStorage.getItem("Classes"));
                    
                    import("./scripts/parseClassData.module.js")
                        .then(module => {
                            module.Level1(json, host);
                        })
                });
            
        </script>

    </body>
</html>